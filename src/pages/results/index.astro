---
import { db, Competition } from "astro:db";
import Layout from "../../layouts/Layout.astro";
import { getYearFromDate } from "../../helpers/getYearFromDate";
import { getUniqueYears } from "../../helpers/getUniqueYears";
import { getCurrentLeagueResults } from "../../helpers/getCurrentLeagueResults";

const competitions = await db.select().from(Competition);
const actualYear = getYearFromDate(new Date);
const distinctYears = getUniqueYears(competitions);
console.log(distinctYears);
for (const year of distinctYears) {
    const league = await getCurrentLeagueResults(year)
    
    
}
---
<Layout title="results">

</Layout>